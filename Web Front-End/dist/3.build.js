webpackJsonp([3],{239:function(t,e,a){a(590);var s=a(4)(a(390),a(526),"data-v-4d60b6ae",null);t.exports=s.exports},253:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ScaleLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},height:{type:String,default:"35px"},width:{type:String,default:"4px"},margin:{type:String,default:"2px"},radius:{type:String,default:"2px"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-scaleStretchDelay",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.1s"},spinnerDelay2:{animationDelay:"0.2s"},spinnerDelay3:{animationDelay:"0.3s"},spinnerDelay4:{animationDelay:"0.4s"},spinnerDelay5:{animationDelay:"0.5s"}}}}},254:function(t,e,a){e=t.exports=a(1)(),e.push([t.i,".v-spinner{text-align:center}@-webkit-keyframes v-scaleStretchDelay{0%,to{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}}@keyframes v-scaleStretchDelay{0%,to{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}}",""])},255:function(t,e,a){a(257);var s=a(4)(a(253),a(256),null,null);t.exports=s.exports},256:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[a("div",{staticClass:"v-scale v-scale1",style:[t.spinnerStyle,t.spinnerDelay1]}),a("div",{staticClass:"v-scale v-scale2",style:[t.spinnerStyle,t.spinnerDelay2]}),a("div",{staticClass:"v-scale v-scale3",style:[t.spinnerStyle,t.spinnerDelay3]}),a("div",{staticClass:"v-scale v-scale4",style:[t.spinnerStyle,t.spinnerDelay4]}),a("div",{staticClass:"v-scale v-scale5",style:[t.spinnerStyle,t.spinnerDelay5]})])},staticRenderFns:[]}},257:function(t,e,a){var s=a(254);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("8ee3ed08",s,!0)},327:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{type:{type:String,default:null},oneAtAtime:{type:Boolean,default:!1}},methods:{openChild:function(t){this.oneAtAtime&&this.$children.forEach(function(e){t!==e&&(e.open=!1)})}},created:function(){this._isAccordion=!0}}},328:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{header:{type:String},isOpen:{type:Boolean,default:null},type:{type:String,default:null}},data:function(){return{open:this.isOpen}},watch:{isOpen:function(t){this.open=t}},computed:{inAccordion:function(){return this.$parent&&this.$parent._isAccordion},panelType:function(){return"panel-"+(this.type||this.$parent&&this.$parent.type||"default")}},methods:{toggle:function(){this.open=!this.open,this.inAccordion&&this.$parent.openChild(this)},enter:function(t){t.style.height="auto";var e=getComputedStyle(t).height;t.style.height="0px",t.offsetHeight,t.style.height=e},afterEnter:function(t){t.style.height="auto"},beforeLeave:function(t){t.style.height=getComputedStyle(t).height,t.offsetHeight,t.style.height="0px"}},created:function(){null===this.isOpen&&(this.open=!this.inAccordion)}}},366:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(5);e.default={props:["message","ticketId","ticketSender"],computed:{isStaff:function(){return!!this.message.sender.isAdmin},displayName:function(){return this.message.sender.isAdmin?"Administrator":this.message.sender.firstName+" "+this.message.sender.lastName},userType:function(){return this.message.sender.isAdmin?"administrator":this.message.sender.type}},methods:{generateAttachmentUrl:function(t){return s.a+"/uploads/"+this.ticketSender+"/tickets/"+this.ticketId+"/"+this.message._id+"/"+t}}}},367:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),i=a(5);e.default={props:["ticketId"],data:function(){return{ticket:{message:"",attachments:[]},fileQuantity:1}},computed:{currentUser:function(){return this.$store.state.user.currentUser},fullName:function(){return this.currentUser.firstName+" "+this.currentUser.lastName}},methods:{addFile:function(t){this.ticket.attachments[t.target.attributes.index.value]=null,this.ticket.attachments[t.target.attributes.index.value]=t.target.files[0]},replyTicket:function(){var t=this;this.$validator.validateAll().then(function(){var e=new FormData;e.append("message",t.ticket.message),t.ticket.attachments.forEach(function(t,a){e.append("attachments"+a,t)}),t.$http.post(i.a+"/support/"+t.ticketId+"/reply",e).then(function(e){t.$emit("handleTicketUpdated"),s.bus.$emit("showAlert",e.body)})}).catch(function(){})}}}},390:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(494),i=a.n(s),n=a(495),r=a.n(n),o=a(255),l=a.n(o),c=a(457),d=a.n(c),p=a(456),u=a.n(p),f=a(5);e.default={data:function(){return{ticket:null,loadingData:!0,isReply:!1}},computed:{currentUser:function(){return this.$store.state.user.currentUser},statusClass:function(){return"under for review"===this.ticket.status?"ufr":"Request Freelancer Reply"===this.ticket.status?"rfr":"Request Employer Reply"===this.ticket.status?"rer":"Request Reply"===this.ticket.status?"rr":"Freelancer Replied"===this.ticket.status?"fr":"Employer Replied"===this.ticket.status?"er":"Replied"===this.ticket.status?"r":"Solved"===this.ticket.status?"solved":void 0},canReply:function(){if("project"===this.ticket.serviceType){if(this.currentUser._id===this.ticket.sender._id&&"Request Employer Reply"===this.ticket.status||this.currentUser._id===this.ticket.freelancer&&"Request Freelancer Reply"===this.ticket.status)return!0}else if("billing"===this.ticket.serviceType&&"Request Reply"===this.ticket.status)return!0;return!1}},methods:{fetchData:function(){var t=this;this.$http.get(f.a+"/support/"+this.$route.params.id).then(function(e){t.loadingData=!1,t.ticket=e.body.ticket,t.ticket.messages.reverse(),document.title=t.ticket.issueType+" - EcJob.com"},function(e){t.$router.replace({name:"error",params:{message:e.body.message}})})},handleTicketUpdated:function(){this.fetchData(),this.isReply=!1}},components:{ScaleLoader:l.a,appTicketReplyForm:r.a,panel:d.a,accordion:u.a,appTicketReply:i.a},created:function(){this.fetchData(),this.updateToolbar("View Ticket"),document.title="Loading Ticket... - EcJob.com"}}},393:function(t,e,a){e=t.exports=a(1)(),e.push([t.i,".accordion-toggle{cursor:pointer}.collapse-enter-active,.collapse-leave-active{transition:all .5s ease;overflow:hidden}",""])},402:function(t,e,a){e=t.exports=a(1)(),e.push([t.i,"ul[data-v-153e4e9c]{list-style-type:none;padding:0}.ticket-reply[data-v-153e4e9c]{margin:10px 0;padding:0;border:1px solid #efefef;background-color:#fff}.ticket-reply .date[data-v-153e4e9c]{float:right;padding:8px 10px;font-size:.9em;font-family:Lato}.ticket-reply .user[data-v-153e4e9c]{padding:5px 0;background-color:#f8f8f8;font-size:1.2em}.ticket-reply .user .type[data-v-153e4e9c]{display:block;font-weight:700;font-size:.8em}.ticket-reply .user i[data-v-153e4e9c]{float:left;font-size:2.2em;padding:2px 15px}.ticket-reply .user .name[data-v-153e4e9c]{display:block;font-size:.9em}.ticket-reply .attachment[data-v-153e4e9c],.ticket-reply .message[data-v-153e4e9c]{padding:12px 15px}.ticket-reply .message[data-v-153e4e9c]{font-size:1.2em}.ticket-reply.staff[data-v-153e4e9c]{border:1px solid #cce4fc}.ticket-reply.staff .user[data-v-153e4e9c]{background-color:#f2f9ff}",""])},415:function(t,e,a){e=t.exports=a(1)(),e.push([t.i,".errorMessage[data-v-3f91c900]{color:#e18972;float:right}.main-content[data-v-3f91c900]{padding:0;padding-bottom:30px;background:#fff;box-shadow:0 0 5px rgba(0,0,0,.2);padding:20px}.no-padding[data-v-3f91c900]{padding:0}.btn-addFile[data-v-3f91c900]{height:39px}input[type=file].form-control[data-v-3f91c900]{height:inherit;margin-bottom:5px}",""])},420:function(t,e,a){e=t.exports=a(1)(),e.push([t.i,".container[data-v-4d60b6ae]{padding:20px 55px;width:100%;height:100%}.ticket-status[data-v-4d60b6ae]{margin-bottom:30px}.spinner[data-v-4d60b6ae]{width:100%;height:100%;position:relative}td[data-v-4d60b6ae]{font-size:16px;background-color:#fff}li a[data-v-4d60b6ae]{cursor:pointer}input[type=file].form-control[data-v-4d60b6ae]{height:inherit;margin-bottom:5px}.reply-section[data-v-4d60b6ae]{margin-top:30px}.panel-collapsable>.panel-heading[data-v-4d60b6ae]{cursor:pointer}table tr:nth-child(2) td[data-v-4d60b6ae]{border:1px solid #ddd;padding:10px 15px}table tr:nth-child(3) td[data-v-4d60b6ae]{border-left:1px solid #ddd;border-bottom:1px solid #ddd;padding:10px 15px}table tr:nth-child(3) td[data-v-4d60b6ae]:last-child{border-right:1px solid #ddd}table tr:nth-child(4) td[data-v-4d60b6ae]{border-right:1px solid #ddd;border-left:1px solid #ddd;border-bottom:1px solid #ddd;padding:10px 15px}table th[data-v-4d60b6ae]{border:1px solid #ddd;padding:10px;background-color:#4d525b;color:#fff}table[data-v-4d60b6ae]{width:100%;border-collapse:separate;border-spacing:0;font-family:Lato;box-shadow:0 0 5px rgba(0,0,0,.2)}.heading[data-v-4d60b6ae]{font-weight:700}.main-heading[data-v-4d60b6ae]{margin-bottom:20px}.er[data-v-4d60b6ae],.fr[data-v-4d60b6ae],.r[data-v-4d60b6ae]{background-color:indigo}.rer[data-v-4d60b6ae],.rfr[data-v-4d60b6ae],.rr[data-v-4d60b6ae]{background-color:#ec971f}.solved[data-v-4d60b6ae]{background-color:#db5f47}.ufr[data-v-4d60b6ae]{background-color:#00b359}.status[data-v-4d60b6ae]{padding:5px 8px;color:#fff;border-radius:4px}.panel-body.panel-body-collapsed[data-v-4d60b6ae]{overflow:hidden;position:relative}",""])},456:function(t,e,a){var s=a(4)(a(327),a(522),null,null);t.exports=s.exports},457:function(t,e,a){a(563);var s=a(4)(a(328),a(498),null,null);t.exports=s.exports},494:function(t,e,a){a(572);var s=a(4)(a(366),a(507),"data-v-153e4e9c",null);t.exports=s.exports},495:function(t,e,a){a(585);var s=a(4)(a(367),a(520),"data-v-3f91c900",null);t.exports=s.exports},498:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["panel",t.panelType]},[a("div",{class:["panel-heading",{"accordion-toggle":t.inAccordion}],on:{click:function(e){e.preventDefault(),t.inAccordion&&t.toggle()}}},[t._t("header",[a("h4",{staticClass:"panel-title"},[t._v(t._s(t.header))])])],2),t._v(" "),a("transition",{attrs:{name:"collapse"},on:{enter:t.enter,"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[t.open?a("div",{staticClass:"panel-collapse"},[a("div",{staticClass:"panel-body"},[t._t("default")],2)]):t._e()])],1)},staticRenderFns:[]}},507:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-whiteframe",{attrs:{"md-elevation":"1"}},[a("div",{staticClass:"ticket-reply",class:{staff:t.isStaff}},[a("div",{staticClass:"date"},[t._v("\n           "+t._s(t._f("moment")(t.message.sendDate,"MM/DD/YYYY hh:mm"))+"\n        ")]),t._v(" "),a("div",{staticClass:"user"},[a("i",{staticClass:"fa fa-user"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.displayName))]),t._v(" "),a("span",{staticClass:"type"},[t._v(t._s(t.userType))])]),t._v(" "),a("div",{staticClass:"message",domProps:{innerHTML:t._s(t.message.message)}}),t._v(" "),t.message.attachments.length>0?a("div",{staticClass:"attachment"},[a("strong",[t._v("Attachments")]),t._v(" "),a("ul",t._l(t.message.attachments,function(e){return a("li",[a("i",{staticClass:"fa fa-paperclip fa-fw",attrs:{"aria-hidden":"true"}}),t._v(" "),a("a",{attrs:{href:t.generateAttachmentUrl(e.filename),target:"_blank"}},[t._v(t._s(e.originalname))])])}))]):t._e()])])},staticRenderFns:[]}},520:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-body panel-body-collapsed"},[a("form",{on:{submit:function(e){e.preventDefault(),t.replyTicket(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-12"},[a("label",{attrs:{for:"inputMessage"}},[t._v("Message")]),t._v(" "),a("small",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("message"),expression:"errors.has('message')"}],staticClass:"errorMessage"},[a("i",{staticClass:"fa fa-exclamation-triangle error-icon"}),t._v("\n                        "+t._s(t.errors.first("message"))+"\n                    ")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ticket.message,expression:"ticket.message"},{name:"validate",rawName:"v-validate:message.initial",value:"required",expression:"'required'",arg:"message",modifiers:{initial:!0}}],staticClass:"form-control",attrs:{rows:"10",name:"message"},domProps:{value:t.ticket.message},on:{input:function(e){e.target.composing||(t.ticket.message=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"row form-group"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-9"},t._l(t.fileQuantity,function(e){return a("input",{staticClass:"form-control",attrs:{type:"file",accept:".jpg, .gif, .jpeg, .png, .zip, .pdf, .rar, .txt",index:e},on:{change:t.addFile}})})),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-default btn-block btn-addFile",attrs:{type:"button"},on:{click:function(e){t.fileQuantity++}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Add More\n                    ")])]),t._v(" "),a("div",{staticClass:"col-xs-12 ticket-attachments-message text-muted"},[t._v("\n                    Allowed File Extensions: .jpg, .gif, .jpeg, .png, .zip, .pdf, .rar, .txt\n                ")])]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("label",{attrs:{for:"inputAttachments"}},[t._v("Attachments")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group text-center"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"save",value:"Submit"}}),t._v(" "),a("input",{staticClass:"btn btn-default",attrs:{type:"reset",value:"Cancel"}})])}]}},522:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"panel-group"},[t._t("default")],2)},staticRenderFns:[]}},526:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.loadingData?a("div",{staticClass:"spinner"},[a("spinner")],1):t._e(),t._v(" "),t.loadingData?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("ol",{staticClass:"breadcrumb"},[t._m(0),t._v(" "),a("li",[a("a",{on:{click:function(e){t.$router.go(-1)}}},[t._v("Support Tickets")])]),t._v(" "),a("li",{staticClass:"active"},[t._v("View Ticket")])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"ticket-status"},[a("table",[t._m(1),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5"}},[a("strong",[t._v("Issue Type: ")]),t._v(t._s(t.ticket.issueType)+"\n                             ")])]),t._v(" "),a("tr",[a("td",[a("p",{staticClass:"heading"},[t._v("Service Type")]),t._v(t._s(t._f("capitalizeFirstLetter")(t.ticket.serviceType)))]),t._v(" "),a("td",[a("p",{staticClass:"heading"},[t._v("Submitted")]),t._v(t._s(t._f("moment")(t.ticket.messages[0].sendDate,"MM/DD/YYYY hh:mm"))+"\n                            ")]),t._v(" "),a("td",[a("p",{staticClass:"heading"},[t._v("Last Updated")]),t._v("\n                            \t"+t._s(t._f("moment")(t.ticket.lastUpdate,"MM/DD/YYYY hh:mm"))+"\n                            ")]),t._v(" "),a("td",[a("p",{staticClass:"heading"},[t._v("Status")]),t._v(" "),a("span",{staticClass:"status",class:[t.statusClass]},[t._v("\n                            \t"+t._s(t._f("capitalizeFirstLetter")(t.ticket.status))+"\n                            \t")])])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"5"}},[a("strong",[t._v("Related Service: ")]),t._v(" "),"Project"===t.ticket.related.kind?a("span",[t._v("\n                                \t  "+t._s(t.ticket.related.item.title)+"\n                                  ")]):"BankDeposit"===t.ticket.related.kind?a("span",[t._v("\n                              \t    BankDeposit ("+t._s(t.ticket.related.item._id)+")\n                                  ")]):"PaypalDeposit"===t.ticket.related.kind?a("span",[t._v("\n                    \t\t\t\t\t\t\t\tPaypalDeposit ("+t._s(t.ticket.related.item._id)+")\n                            \t\t\t")]):t._e()])])])])]),t._v(" "),t.canReply?a("div",{staticClass:"col-md-12 reply-section"},[a("accordion",{attrs:{type:"info"}},[a("panel",{attrs:{"is-open":t.isReply},on:{toggle:function(e){t.isReply=e}}},[a("h3",{staticClass:"panel-title",slot:"header"},[a("i",{staticClass:"fa fa-pencil fa-fw"}),t._v(" Reply\n                        ")]),t._v(" "),a("app-ticket-reply-form",{attrs:{ticketId:t.ticket._id},on:{handleTicketUpdated:t.handleTicketUpdated}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"col-md-12"},t._l(t.ticket.messages,function(e){return a("app-ticket-reply",{attrs:{message:e,ticketId:t.ticket._id,ticketSender:t.ticket.sender.username}})}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"/"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{colspan:"5"}},[a("h3",{staticClass:"panel-title"},[a("i",{staticClass:"fa fa-ticket fa-fw"}),t._v(" Ticket Information")])])])}]}},563:function(t,e,a){var s=a(393);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("22b69302",s,!0)},572:function(t,e,a){var s=a(402);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("265c62d1",s,!0)},585:function(t,e,a){var s=a(415);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("aa89cac6",s,!0)},590:function(t,e,a){var s=a(420);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("939d6a3a",s,!0)}});
//# sourceMappingURL=3.build.js.map